---
layout: post
title:  ".NET10 的新特性"
date:   2025-11-12 12:30:00 +0800--
categories: [.NET]
tags: [dotnet10]
---

### 前言

在 .NET Conf 2025 上，微软正式发布了 **.NET 10**。作为最新的 **LTS（长期支持）** 版本，它不仅带来了三年的稳定支持，更标志着 .NET 迈向了“轻量化”与“智能化”的新阶段。

如果你还在纠结要不要升级，或者觉得 .NET 还是那个臃肿的“巨无霸”，那么本篇文章将结合官方文档与视频核心要点，为你逐一拆解 .NET 10 中每一个不容错过的技术升级。

### 1. 核心概念：开发范式的三大支柱

.NET 10 的更新可以总结为三个核心支柱：**开发体验的极简、AI 的原生化、以及底层的极致优化。**

#### 1.1 全新的应用类型：Agents (智能体)

在 .NET 10 的版图中，除了传统的 Web 和 Cloud，新增了一个顶级成员——**Agents**。

* **.NET Agent Framework**：这是 **Semantic Kernel** 与 **AutoGen** 的大一统。通过它，开发者可以构建具备自我决策能力的 AI 智能体，而不仅仅是调用一个聊天接口。
* **统一开发流**：这意味着 AI 智能体现在是 .NET 的“一等公民”。

#### 1.2 脚本化的 C#：文件级应用 (File-based Apps)

这是本次发布中最令开发者兴奋的改动之一。

* **摆脱项目文件**：你不再需要 `.sln` 或 `.csproj`。只需一个简单的 `.cs` 文件，就能通过 `dotnet run` 直接执行。
* **包管理新语法**：在脚本顶部使用 `# : package <PackageName>` 即可自动引用 NuGet 包。
* **平滑转换**：通过 `dotnet project convert` 命令，可以瞬间将脚本升级为标准的项目结构。


### 2. 工具革命：Visual Studio 2026

伴随 .NET 10 发布的 **Visual Studio 2026** 彻底重塑了效率：

* **秒级启动**：启动速度现在可以媲美 VS Code，空载打开几乎是瞬间完成。
* **现代 UI 与主题**：内置了多种全新设计的现代主题。
* **构建性能**：通过更智能的增量编译，大型项目的构建时间平均缩短了 **25%** 以上。


### 3. C# 14：写更少、更安全的代码

C# 14 进一步精简了语法逻辑，重点在于减少模板代码。具体内容请参考博客：[C# 14 新特性深度解析](https://jerryluo.com/2025/11/14/what-is-new-of-csharp14/)


### 4. Web 与分布式：ASP.NET Core & Aspire

#### 4.1 ASP.NET Core 的进击

* **Minimal API 验证**：内置了参数自动验证，不再强依赖第三方库。
* **OpenAPI 3.1**：官方原生支持生成更标准的 OpenAPI 3.1 文档及 YAML 导出。
* **安全升级**：深度集成了 **WebAuthn** 和 **Passkeys**，帮助开发者轻松实现无密码登录。
* **SSE 支持**：原生支持 Server-Sent Events，非常适合实时推送 AI 生成的内容。

#### 4.2 Blazor：开发者的救赎

* **Hot Reload 2.0**：视频中展示了令人震惊的数据：在 VS 2022 中需要 40 秒的 UI 更改，在 .NET 10 下仅需 **3 秒**。
* **状态持久化 (Persistent State)**：解决了 Blazor Server 断线重连后的状态丢失痛点。

#### 4.3 Aspire

* **更名与版本**：正式更名为 **Aspire**，并发布了 v13 版本，进一步简化了微服务的本地治理与可观测性。


### 5. 底层基石：运行时 (Runtime) 与 BCL

.NET 10 的性能提升依然由 Steven Toub 那篇 250 多页的博文所背书：

* **JIT 优化**：
* **Loop Inversion**：优化循环结构，提升向量化指令的利用率。
* **Physical Promotion**：将结构体参数直接映射到寄存器，减少内存访问开销。


* **Native AOT**：支持更多的反射场景，且生成的二进制文件体积进一步缩小，非常适合 Serverless 场景。
* **后量子加密 (PQC)**：BCL 库现在前瞻性地支持了抗量子计算攻击的加密算法。
* **Generic Math 增强**：让泛型数学运算覆盖了更多的基础类型。

### 6. 总结

.NET 10 是一个极其均衡的版本：它不仅照顾了云原生的性能极限，也温柔地拥抱了脚本化的灵活性。

1. **从“写代码”转向“写逻辑”**：文件级应用和 C# 14 的演进都在告诉我们，.NET 正在去除那些繁琐的“仪式感”。你应该把更多精力放在业务建模和 AI Agent 的协作逻辑上。
2. **性能即生产力**：Hot Reload 从 40s 缩短到 3s，这不只是等待时间的减少，它能保护你的“心流”不被中断。

**避坑指南**：不要因为“文件级应用”方便就全盘脚本化。在团队协作中，`.csproj` 提供的强约束依然是生产环境的必选项。


#### 官方引用与资源

* [What's new in .NET 10 Overview (MS Docs)](https://learn.microsoft.com/en-au/dotnet/core/whats-new/dotnet-10/overview?wt.mc_id=MVP_324329)